CREATE TABLE directories (
  directoryID    INTEGER GENERATED BY DEFAULT AS IDENTITY,
  absolutePath   LONGVARCHAR not null,

  monitorModified TIMESTAMP,
  accessModified TIMESTAMP,
  
  PRIMARY KEY (directoryID),
  UNIQUE (absolutePath),
);

CREATE TABLE pipefiles (
  fileID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  directoryID INTEGER not null,

  absolutePath LONGVARCHAR not null,
  lastModified TIMESTAMP not null,

  name LONGVARCHAR not null,
  type LONGVARCHAR not null,
  packageName LONGVARCHAR not null,
  description LONGVARCHAR not null,
  tags LONGVARCHAR not null,

  dataValues LONGVARCHAR,
  formatType LONGVARCHAR, 
  location LONGVARCHAR,
  uri LONGVARCHAR,

  PRIMARY KEY (fileID),
);

CREATE TABLE agents (
  agentID INTEGER GENERATED BY DEFAULT AS IDENTITY,
  directoryID INTEGER not null,

  name LONGVARCHAR not null, 
  isGroup INTEGER not null,

  PRIMARY KEY (agentId)
);

CREATE TABLE fileAgents (
  fileId INTEGER not null,
  agentId INTEGER not null,
);

CREATE TABLE groupAgents (
  groupId INTEGER not null,
  agentId INTEGER not null,
);